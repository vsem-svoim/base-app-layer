# PostgreSQL values for AWS
global:
  cloudProvider: aws
  region: us-east-1
  storageClass: gp3

postgresql:
  architecture: replication
  auth:
    postgresPassword: changeme-in-production
    username: base-app-layer
    password: changeme-in-production
    database: base-app-layer

  primary:
    persistence:
      enabled: true
      storageClass: gp3
      size: 200Gi
    resources:
      limits:
        cpu: 4
        memory: 8Gi
      requests:
        cpu: 2
        memory: 4Gi
    nodeSelector:
      kubernetes.io/os: linux

  readReplicas:
    replicaCount: 2
    persistence:
      enabled: true
      storageClass: gp3
      size: 200Gi
    resources:
      limits:
        cpu: 2
        memory: 4Gi
      requests:
        cpu: 1
        memory: 2Gi
    nodeSelector:
      kubernetes.io/os: linux

  metrics:
    enabled: true
    resources:
      limits:
        cpu: 250m
        memory: 256Mi
      requests:
        cpu: 100m
        memory: 128Mi
